<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.6.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.6.0" color="#222">









<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="BFC（Block Formatting Comtext）即块级格式化上下文，是CSS中的一套渲染规则">
<meta name="keywords" content="Note,BFC">
<meta property="og:type" content="article">
<meta property="og:title" content="关于BFC">
<meta property="og:url" content="https://wzpeng97.github.io/2018/03/07/关于BFC/index.html">
<meta property="og:site_name" content="WZPENG x BLOG">
<meta property="og:description" content="BFC（Block Formatting Comtext）即块级格式化上下文，是CSS中的一套渲染规则">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-07-06T06:45:42.187Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于BFC">
<meta name="twitter:description" content="BFC（Block Formatting Comtext）即块级格式化上下文，是CSS中的一套渲染规则">






  <link rel="canonical" href="https://wzpeng97.github.io/2018/03/07/关于BFC/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>关于BFC | WZPENG x BLOG</title>
  












  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">WZPENG x BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://wzpeng97.github.io/2018/03/07/关于BFC/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wzpeng">
      <meta itemprop="description" content="一枚小前端">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WZPENG x BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">关于BFC

              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-07 19:31:27" itemprop="dateCreated datePublished" datetime="2018-03-07T19:31:27+08:00">2018-03-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-06 14:45:42" itemprop="dateModified" datetime="2018-07-06T14:45:42+08:00">2018-07-06</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/CSS/" itemprop="url" rel="index"><span itemprop="name">CSS</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>BFC（Block Formatting Comtext）即块级格式化上下文，是CSS中的一套渲染规则<br><a id="more"></a></p>
<h1 id="定位方案（position-schemes）"><a href="#定位方案（position-schemes）" class="headerlink" title="定位方案（position schemes）"></a>定位方案（position schemes）</h1><p>在谈论BFC之前，首先要提到的一个东西是定位方案（position schemes）<br>在CSS2.1中，一个盒子是根据以下三种定位方案来布局的：</p>
<h2 id="Normal-flow（正常流-文档流）"><a href="#Normal-flow（正常流-文档流）" class="headerlink" title="Normal flow（正常流/文档流）"></a>Normal flow（正常流/文档流）</h2><p>在CSS2.1中,normal flow即我们所说的文档流包括块级盒子的块级格式化，行级盒子的行级格式化，还有块级盒子和行级盒子的相对定位(relative positioning)</p>
<h2 id="Floats（浮动）"><a href="#Floats（浮动）" class="headerlink" title="Floats（浮动）"></a>Floats（浮动）</h2><p>在一个float model中，一个盒子首先会按照正常文档流布局，然后脱离文档流尽可能地向左或向右移动，其中的内容也会向浮动的一侧流动。浮动元素并不是完全脱离文档流，而是产生了浮动流，所有产生了浮动流的元素，块级元素看不到他们，而产生了BFC的元素以及文本类元素可以看得到他们</p>
<h2 id="Absolute-positioning（绝对定位）"><a href="#Absolute-positioning（绝对定位）" class="headerlink" title="Absolute positioning（绝对定位）"></a>Absolute positioning（绝对定位）</h2><p>在绝对定位模型中，具有绝对定位的盒模型会完全脱离文档流，此时对它后面的兄弟元素不会产生任何影响，会给该盒子分配一个相对其包含块的位置（如果父级没有定位元素那么则相对document定位，如果有则相对最近的有定位的父级元素定位）。fixed定位也可以看作绝对定位的一种特例。</p>
<h1 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h1><p>在正常流normal flow中的盒子属于一种Formatting Context（格式化上下文），肯定是块级的或者行级的，不可能同时都是，块级盒子参与Block formatting context（块级格式化上下文，BFC），行内元素参与Inline formatting contexts(行内格式化上下文，IFC)。CSS2.1中只有IFC和BFC，而CSS3中增加了GFC（GridLayout Formatting Contexts）以及 FFC（Flex Formatting Context ）。<br>根据W3C对BFC的定义：</p>
<blockquote>
<p>Floats, absolutely positioned elements, block containers (such as inline-blocks, table-cells, and table-captions) that are not block boxes, and block boxes with ‘overflow’ other than ‘visible’ (except when that value has been propagated to the viewport) establish new block formatting contexts for their contents.<br>In a block formatting context, boxes are laid out one after the other, vertically, beginning at the top of a containing block. The vertical distance between two sibling boxes is determined by the ‘margin’ properties. Vertical margins between adjacent block-level boxes in a block formatting context collapse.<br>In a block formatting context, each box’s left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a box’s line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats).  </p>
</blockquote>
<p>简单翻译了一下是这样的</p>
<blockquote>
<p>对于浮动的、绝对定位的元素、非块级盒子的块级容器、还有overflow属性的值不是visible的块级盒子，都会为它们的内容建立新的BFC。<br>在一个BFC中，盒子从包含块的顶端开始一个一个垂直地布局下来，其中，两个兄弟盒子之间的垂直距离由margin值决定。在一个BFC中，两个相邻块级盒子的垂直方向上的margin值会发生塌陷（collapse）。<br>在一个BFC中，每一个盒子的左外边缘（margin-left）都会触碰到容器的左边缘（border-left），甚至有浮动的存在的情况也是这样的，除非盒子建立一个新的BFC。  </p>
</blockquote>
<p>上文提到的Box翻译成盒子,这个Box是CSS布局的对象和单位，一个页面是由许许多多的box组成的，元素的类型和display的值会决定该box的类型。不同类型的box会参与到不同的Formatting Context（可以理解为一套渲染规则）中。<br>总结起来：个人对*FC的理解是，不同*FC的元素是独立的，不同*FC规定了其内部如何布局而不会对其外部产生任何影响。  </p>
<h1 id="触发BFC的条件"><a href="#触发BFC的条件" class="headerlink" title="触发BFC的条件"></a>触发BFC的条件</h1><p>1.根元素或包含根元素的元素<br>2.浮动的元素<br>3.绝对定位元素（position: absolute/fixed）<br>4.非块级的块级元素，例如display: inline-block/table-cell/table-caption/table/table-row等<br>5.overflow的值不为visible的元素(overflow: hidden/scoll/auto)  </p>
<h1 id="BFC的应用"><a href="#BFC的应用" class="headerlink" title="BFC的应用"></a>BFC的应用</h1><h2 id="清除margin-collapse"><a href="#清除margin-collapse" class="headerlink" title="清除margin collapse"></a>清除margin collapse</h2><p>BFC会导致margin collapse，同时也可以防止margin collapse的产生，只要为有margin塌陷产生的两个元素中的其中一个元素创建一个新的BFC，两个元素不在同一个BFC中就不会有margin塌陷了</p>
<h2 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h2><p>利用规则为浮动元素的父级包裹元素创建BFC就可以实现清除浮动的效果了</p>
<h2 id="阻止文字环绕效果"><a href="#阻止文字环绕效果" class="headerlink" title="阻止文字环绕效果"></a>阻止文字环绕效果</h2><p>可以分割图片和文字</p>
<hr>
<p>第一篇博客，若有不足，请多多指教  </p>
<p>参考：<br><a href="https://www.w3.org/TR/CSS2/visuren.html" target="_blank" rel="noopener">W3C Recommendation</a><br><a href="http://www.html-js.com/article/1866" target="_blank" rel="noopener">CSS之BFC详解</a><br><a href="https://www.jianshu.com/p/fc1d61dace7b" target="_blank" rel="noopener">理解CSS中的BFC</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Note/" rel="tag"># Note</a>
          
            <a href="/tags/BFC/" rel="tag"># BFC</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/07/11/JS中的HOOK/" rel="prev" title="JS中的HOOK">
                JS中的HOOK <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="wzpeng">
            
              <p class="site-author-name" itemprop="name">wzpeng</p>
              <p class="site-description motion-element" itemprop="description">一枚小前端</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://github.com/wzpeng97" title="GitHub &rarr; https://github.com/wzpeng97" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="mailto:wzpeng97@gmail.com" title="E-Mail &rarr; mailto:wzpeng97@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#定位方案（position-schemes）"><span class="nav-number">1.</span> <span class="nav-text">定位方案（position schemes）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Normal-flow（正常流-文档流）"><span class="nav-number">1.1.</span> <span class="nav-text">Normal flow（正常流/文档流）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Floats（浮动）"><span class="nav-number">1.2.</span> <span class="nav-text">Floats（浮动）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Absolute-positioning（绝对定位）"><span class="nav-number">1.3.</span> <span class="nav-text">Absolute positioning（绝对定位）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BFC"><span class="nav-number">2.</span> <span class="nav-text">BFC</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#触发BFC的条件"><span class="nav-number">3.</span> <span class="nav-text">触发BFC的条件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BFC的应用"><span class="nav-number">4.</span> <span class="nav-text">BFC的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#清除margin-collapse"><span class="nav-number">4.1.</span> <span class="nav-text">清除margin collapse</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#清除浮动"><span class="nav-number">4.2.</span> <span class="nav-text">清除浮动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#阻止文字环绕效果"><span class="nav-number">4.3.</span> <span class="nav-text">阻止文字环绕效果</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wzpeng</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.6.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.6.0"></script>
<script src="/js/src/post-details.js?v=6.6.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  











  





  

  

  

  

  

  
  

  

  

  

  

  

  

</body>
</html>
